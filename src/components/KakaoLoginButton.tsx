import { useAuth } from '../contexts/AuthContext';

interface KakaoLoginButtonProps {
  children?: React.ReactNode;
  onError?: (error?: string) => void;
}
const KakaoLoginButton = ({ onError }: KakaoLoginButtonProps) => {
  // 카카오 로그인 사용
  const { signInWithKakao } = useAuth();

  // 카카오 로그인 실행
  const handlekakaoLogin = async () => {
    try {
      const { error } = await signInWithKakao();
      if (error && onError) {
        console.log('카카오 로그인 에러 메시지 : ', error);
        onError(error);
      }
    } catch (err) {
      console.log('카카오 로그인 오류 : ', err);
    }
  };

  return (
    <div>
      <button
        type="button"
        style={{
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          gap: '8px',
          width: '100%',
          padding: '12px 16px',
          backgroundColor: '#fee500',
          border: 'none',
          borderRadius: '8px',
          fontSize: '16px',
          fontWeight: '500',
          cursor: 'pointer',
          transition: 'bacground-color 0.2s ease',
        }}
        onMouseEnter={e => {
          e.currentTarget.style.backgroundColor = '#fdd835';
        }}
        onMouseLeave={e => {
          e.currentTarget.style.backgroundColor = '#fee500';
        }}
        onClick={handlekakaoLogin}
      >
        {/* 카카오 아이콘 SVG */}
        <svg
          width="21"
          height="19"
          viewBox="0 0 21 19"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M10.4036 0.878957C5.10601 0.894207 0.821172 4.29987 0.833339 8.48454C0.841089 11.1754 2.62367 13.5337 5.30359 14.8705L4.40926 18.2505C4.39025 18.3067 4.38996 18.3676 4.40845 18.4241C4.42694 18.4805 4.46321 18.5295 4.51183 18.5636C4.56045 18.5977 4.6188 18.6152 4.67817 18.6133C4.73754 18.6115 4.79472 18.5906 4.84117 18.5535L8.72234 15.9175C9.29383 15.9974 9.87028 16.0366 10.4473 16.0349C15.7448 16.0196 20.0298 12.6148 20.0178 8.42946C20.0058 4.24412 15.7012 0.86379 10.4036 0.878957ZM5.589 10.4772C5.58984 10.7732 5.41459 10.9578 5.13142 10.9586C4.84826 10.9595 4.67234 10.7759 4.6715 10.4799L4.66192 7.14779L3.69684 7.15062C3.39409 7.15146 3.28601 6.92721 3.28542 6.73487C3.28362 6.68019 3.2929 6.62571 3.31268 6.5747C3.33247 6.52369 3.36236 6.47721 3.40056 6.43805C3.43876 6.39888 3.48448 6.36784 3.53498 6.34679C3.58548 6.32573 3.63971 6.31511 3.69442 6.31554L6.54151 6.30721C6.59625 6.30639 6.65059 6.31665 6.70127 6.33735C6.75195 6.35806 6.79792 6.38879 6.83643 6.4277C6.87494 6.46662 6.90519 6.51291 6.92536 6.56381C6.94554 6.6147 6.95523 6.66914 6.95384 6.72387C6.95434 6.91612 6.84734 7.14104 6.54392 7.14187L5.57942 7.14471L5.589 10.4772ZM10.0299 10.9449C9.92975 10.9532 9.82983 10.926 9.74777 10.8679C9.66571 10.8099 9.60677 10.7247 9.58134 10.6275L9.37892 10.0005L7.46167 10.006L7.25792 10.627C7.23609 10.7253 7.17957 10.8125 7.09871 10.8726C7.01784 10.9327 6.91805 10.9616 6.81759 10.9541C6.75995 10.9567 6.70239 10.9477 6.64827 10.9277C6.59415 10.9077 6.54456 10.8771 6.5024 10.8377C6.46024 10.7984 6.42636 10.751 6.40274 10.6983C6.37912 10.6457 6.36623 10.5889 6.36484 10.5312C6.36553 10.4619 6.37968 10.3935 6.40651 10.3296L7.72817 6.79779C7.82284 6.53887 8.05134 6.26221 8.40917 6.26121C8.72359 6.26029 8.97326 6.45404 9.09409 6.79279L10.3951 10.3115C10.425 10.3868 10.4427 10.4662 10.4477 10.547C10.4469 10.6008 10.4355 10.6538 10.414 10.703C10.3925 10.7523 10.3613 10.7967 10.3224 10.8338C10.2835 10.8708 10.2376 10.8997 10.1874 10.9188C10.1371 10.9379 10.0836 10.9468 10.0299 10.9449ZM13.5538 10.4825C13.5516 10.5376 13.5385 10.5918 13.5153 10.6419C13.4922 10.692 13.4593 10.737 13.4187 10.7743C13.378 10.8117 13.3304 10.8406 13.2785 10.8595C13.2267 10.8784 13.1716 10.8869 13.1164 10.8844L11.4063 10.8892C11.1063 10.8901 10.926 10.7007 10.9251 10.3828L10.9146 6.73279C10.9138 6.43729 11.0891 6.25312 11.3722 6.25237C11.6553 6.25162 11.8313 6.43462 11.8323 6.73021L11.8418 10.053L13.1141 10.0493C13.175 10.0463 13.2359 10.0561 13.2928 10.0779C13.3497 10.0998 13.4015 10.1332 13.4448 10.1761C13.4828 10.2171 13.5121 10.2654 13.5308 10.3181C13.5495 10.3708 13.5573 10.4267 13.5538 10.4825ZM17.3744 10.5632C17.3396 10.8975 17.0161 10.9243 16.9176 10.9245C16.8937 10.9246 16.8697 10.9235 16.8459 10.9212C16.6764 10.9045 16.5808 10.7981 16.4031 10.5596L15.1929 8.91979L14.8642 9.25696L14.8678 10.4923C14.8679 10.5516 14.856 10.6103 14.8329 10.6648C14.8097 10.7194 14.7757 10.7687 14.733 10.8098C14.6903 10.8509 14.6397 10.8829 14.5842 10.9039C14.5288 10.9249 14.4697 10.9344 14.4104 10.932C14.1354 10.9328 13.9506 10.757 13.9498 10.4949L13.9389 6.69696C13.9372 6.63652 13.9478 6.57637 13.9703 6.52024C13.9928 6.46411 14.0266 6.4132 14.0696 6.37068C14.1126 6.32816 14.1638 6.29494 14.2202 6.27308C14.2766 6.25123 14.3368 6.2412 14.3973 6.24362C14.4579 6.2395 14.5188 6.24826 14.5758 6.26932C14.6329 6.29038 14.6848 6.32327 14.7283 6.36584C14.7717 6.4084 14.8056 6.45966 14.8279 6.51627C14.8501 6.57288 14.8601 6.63355 14.8572 6.69429L14.8613 8.16471L16.4726 6.47537C16.5188 6.42414 16.575 6.38279 16.6376 6.35381C16.7002 6.32482 16.7681 6.3088 16.8371 6.30671C17.0588 6.31196 17.2823 6.45862 17.2772 6.72854C17.2772 6.85471 17.2022 6.93821 17.0522 7.10446C17.0183 7.14212 16.9808 7.18362 16.9403 7.23012L15.8389 8.34779L17.1505 10.0549C17.286 10.2306 17.3983 10.376 17.3744 10.5632Z"
            fill="#3B1E1E"
          />
        </svg>
        카카오 로그인
      </button>
    </div>
  );
};

export default KakaoLoginButton;
